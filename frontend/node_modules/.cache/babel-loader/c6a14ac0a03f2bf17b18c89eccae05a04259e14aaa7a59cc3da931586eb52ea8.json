{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./index.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TodoApp=()=>{const[tasks,setTasks]=useState([]);const[newTask,setNewTask]=useState('');const[editingTask,setEditingTask]=useState(null);useEffect(()=>{fetchTasks();},[]);const fetchTasks=async()=>{try{const response=await axios.get('/api/tasks');setTasks(response.data.reverse());}catch(error){console.error('Error fetching tasks:',error);}};const addTask=async e=>{e.preventDefault();if(!newTask.trim())return;try{await axios.post('/api/tasks',{description:newTask});setNewTask('');fetchTasks();}catch(error){console.error('Error adding task:',error);}};const toggleCompletion=async(taskId,completed)=>{try{await axios.patch(`/api/tasks/${taskId}`,{completed:!completed});fetchTasks();}catch(error){console.error('Error updating task completion:',error);}};const deleteTask=async taskId=>{try{await axios.delete(`/api/tasks/${taskId}`);fetchTasks();}catch(error){console.error('Error deleting task:',error);}};const startEditing=task=>{setEditingTask({...task});};const updateTask=async e=>{e.preventDefault();try{await axios.patch(`/api/tasks/${editingTask._id}`,{description:editingTask.description});setEditingTask(null);fetchTasks();}catch(error){console.error('Error updating task:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4 max-w-2xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Todo App\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addTask,className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTask,onChange:e=>setNewTask(e.target.value),placeholder:\"Add a new task\",className:\"p-2 border rounded w-full\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-2 button-submit text-white p-2 rounded\",children:\"Add Task\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(task=>/*#__PURE__*/_jsx(\"li\",{className:\"mb-2 p-2 border rounded\",children:editingTask&&editingTask._id===task._id?/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateTask,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingTask.description,onChange:e=>setEditingTask({...editingTask,description:e.target.value}),className:\"p-1 border rounded w-full\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-1 bg-green-500 text-white p-1 rounded\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingTask(null),className:\"mt-1 ml-1 bg-gray-500 text-white p-1 rounded\",children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:task.completed?'line-through':'',children:task.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleCompletion(task._id,task.completed),className:\"ml-2 bg-yellow-500 text-white p-1 rounded\",children:task.completed?'Undo':'Complete'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditing(task),className:\"ml-2 bg-blue-500 text-white p-1 rounded\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(task._id),className:\"ml-2 bg-red-500 text-white p-1 rounded\",children:\"Delete\"})]})},task._id))})]});};export default TodoApp;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TodoApp","tasks","setTasks","newTask","setNewTask","editingTask","setEditingTask","fetchTasks","response","get","data","reverse","error","console","addTask","e","preventDefault","trim","post","description","toggleCompletion","taskId","completed","patch","deleteTask","delete","startEditing","task","updateTask","_id","className","children","onSubmit","type","value","onChange","target","placeholder","map","onClick"],"sources":["/home/morpole/Desktop/todo/frontend/src/App.js"],"sourcesContent":["\n\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './index.css';\n\n\nconst TodoApp = () => {\n  const [tasks, setTasks] = useState([]);\n  const [newTask, setNewTask] = useState('');\n  const [editingTask, setEditingTask] = useState(null);\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  const fetchTasks = async () => {\n    try {\n      const response = await axios.get('/api/tasks');\n      setTasks(response.data.reverse());\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  };\n\n  const addTask = async (e) => {\n    e.preventDefault();\n    if (!newTask.trim()) return;\n    try {\n      await axios.post('/api/tasks', { description: newTask });\n      setNewTask('');\n      fetchTasks();\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  };\n\n  const toggleCompletion = async (taskId, completed) => {\n    try {\n      await axios.patch(`/api/tasks/${taskId}`, { completed: !completed });\n      fetchTasks();\n    } catch (error) {\n      console.error('Error updating task completion:', error);\n    }\n  };\n\n  const deleteTask = async (taskId) => {\n    try {\n      await axios.delete(`/api/tasks/${taskId}`);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  };\n\n  const startEditing = (task) => {\n    setEditingTask({ ...task });\n  };\n\n  const updateTask = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.patch(`/api/tasks/${editingTask._id}`, { description: editingTask.description });\n      setEditingTask(null);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error updating task:', error);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 max-w-2xl\">\n      <h1 className=\"text-2xl font-bold mb-4\">Todo App</h1>\n      <form onSubmit={addTask} className=\"mb-4\">\n        <input\n          type=\"text\"\n          value={newTask}\n          onChange={(e) => setNewTask(e.target.value)}\n          placeholder=\"Add a new task\"\n          className=\"p-2 border rounded w-full\"\n        />\n        <button type=\"submit\" className=\"mt-2 button-submit text-white p-2 rounded\">Add Task</button>\n      </form>\n      <ul>\n        {tasks.map((task) => (\n          <li key={task._id} className=\"mb-2 p-2 border rounded\">\n            {editingTask && editingTask._id === task._id ? (\n              <form onSubmit={updateTask}>\n                <input\n                  type=\"text\"\n                  value={editingTask.description}\n                  onChange={(e) => setEditingTask({ ...editingTask, description: e.target.value })}\n                  className=\"p-1 border rounded w-full\"\n                />\n                <button type=\"submit\" className=\"mt-1 bg-green-500 text-white p-1 rounded\">Save</button>\n                <button onClick={() => setEditingTask(null)} className=\"mt-1 ml-1 bg-gray-500 text-white p-1 rounded\">Cancel</button>\n              </form>\n            ) : (\n              <>\n                <span className={task.completed ? 'line-through' : ''}>{task.description}</span>\n                <button onClick={() => toggleCompletion(task._id, task.completed)} className=\"ml-2 bg-yellow-500 text-white p-1 rounded\">\n                  {task.completed ? 'Undo' : 'Complete'}\n                </button>\n                <button onClick={() => startEditing(task)} className=\"ml-2 bg-blue-500 text-white p-1 rounded\">Edit</button>\n                <button onClick={() => deleteTask(task._id)} className=\"ml-2 bg-red-500 text-white p-1 rounded\">Delete</button>\n              </>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default TodoApp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}